{"layout":{"p":"layout","tf":"{\"1\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = this.invokePartial(partials.menu,depth0,{\"name\":\"menu\",\"data\":data,\"helpers\":helpers,\"partials\":partials})) != null ? stack1 : \"\");\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper, options, alias1=helpers.helperMissing, alias2=\"function\", alias3=this.escapeExpression, buffer = \n  \"<!DOCTYPE html>\\n<head>\\n    <meta charset=\\\"utf-8\\\">\\n    <title>InFood - \"\n    + alias3(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias1),(typeof helper === alias2 ? helper.call(depth0,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</title>\\n    <link rel='stylesheet' href='/stylesheets/style.css' />\\n    <link href=\\\"stylesheets/bootstrap.min.css\\\" rel=\\\"stylesheet\\\">\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1\\\">\\n    <script src=\\\"/javascripts/require.js\\\"></script>\\n    <script src=\\\"/javascripts/app.js\\\"></script>\\n    <script>\\n        var _apiToken = '\"\n    + alias3(((helper = (helper = helpers.apiToken || (depth0 != null ? depth0.apiToken : depth0)) != null ? helper : alias1),(typeof helper === alias2 ? helper.call(depth0,{\"name\":\"apiToken\",\"hash\":{},\"data\":data}) : helper)))\n    + \"';\\n    </script>\\n</head>\\n<body>\\n\";\n  stack1 = ((helper = (helper = helpers.notAuth || (depth0 != null ? depth0.notAuth : depth0)) != null ? helper : alias1),(options={\"name\":\"notAuth\",\"hash\":{},\"fn\":this.noop,\"inverse\":this.program(1, data, 0),\"data\":data}),(typeof helper === alias2 ? helper.call(depth0,options) : helper));\n  if (!helpers.notAuth) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + ((stack1 = this.invokePartial(partials.content,depth0,{\"name\":\"content\",\"data\":data,\"helpers\":helpers,\"partials\":partials})) != null ? stack1 : \"\")\n    + \"</body>\\n</html>\";\n},\"usePartial\":true,\"useData\":true}","mt":1424657727000,"pt":["menu","content"]},"menu":{"p":"menu","tf":"{\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<nav class=\\\"navbar navbar-default navbar-fixed-top\\\">\\n    <div class=\\\"container-fluid\\\">\\n        <!-- Brand and toggle get grouped for better mobile display -->\\n        <div class=\\\"navbar-header\\\">\\n            <button type=\\\"button\\\" class=\\\"navbar-toggle collapsed\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#bs-example-navbar-collapse-1\\\">\\n                <span class=\\\"sr-only\\\">Toggle navigation</span>\\n                <span class=\\\"icon-bar\\\"></span>\\n                <span class=\\\"icon-bar\\\"></span>\\n                <span class=\\\"icon-bar\\\"></span>\\n            </button>\\n            <a class=\\\"navbar-brand\\\" href=\\\"#\\\">InFood</a>\\n        </div>\\n\\n        <!-- Collect the nav links, forms, and other content for toggling -->\\n        <div class=\\\"collapse navbar-collapse\\\" id=\\\"bs-example-navbar-collapse-1\\\">\\n            <ul class=\\\"nav navbar-nav\\\">\\n                <li class=\\\"active\\\"><a href=\\\"#\\\">Заказы <span class=\\\"sr-only\\\">(current)</span></a></li>\\n                <li><a href=\\\"#\\\">Меню</a></li>\\n                <li><a href=\\\"#\\\">Акции</a></li>\\n                <li><a href=\\\"#\\\">Рестораны</a></li>\\n                <li><a href=\\\"#\\\">Пользователи</a></li>\\n            </ul>\\n            <ul class=\\\"nav navbar-nav navbar-right\\\">\\n                <li class=\\\"dropdown\\\">\\n                    <a href=\\\"#\\\" class=\\\"dropdown-toggle\\\" data-toggle=\\\"dropdown\\\" role=\\\"button\\\" aria-expanded=\\\"false\\\"><i class=\\\"glyphicon glyphicon-user\\\"></i> &nbsp; \"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.user : depth0)) != null ? stack1.login : stack1), depth0))\n    + \" <span class=\\\"caret\\\"></span></a>\\n                    <ul class=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\n                        <li><a href=\\\"#\\\">Профиль</a></li>\\n                        <li class=\\\"divider\\\"></li>\\n                        <li><a id=\\\"logout\\\" href=\\\"#\\\">Выход</a></li>\\n                    </ul>\\n                </li>\\n            </ul>\\n        </div>\\n    </div>\\n</nav>\\n<script>\\n    require([\\\"jquery\\\", \\\"safe\\\", \\\"api\\\", \\\"jquery-block\\\"], function ($, safe, api) {\\n        $(function () {\\n            $('#logout').click(function(){\\n                safe.run(function (cb) {\\n                    api.call(\\\"core.logout\\\", cb);\\n                }, function (err) {\\n                    if (!err)\\n                        window.location.href = '/login';\\n                    else\\n                        appError(err);\\n                });\\n            });\\n        });\\n    });\\n</script>\";\n},\"useData\":true}","mt":1424660579000,"pt":[]},"content":{"p":"content","tf":"{\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"local-ctx\\\"></div>\\n<div class=\\\"vertical-center\\\">\\n    <div class=\\\"container\\\">\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-sm-6 col-md-4 col-md-offset-4\\\">\\n                <h1 class=\\\"text-center login-title\\\">Пожалуйста, введите логин и пароль для продолжения работы с системой</h1>\\n                <div class=\\\"account-wall\\\">\\n                    <img class=\\\"profile-img\\\" src=\\\"https://lh5.googleusercontent.com/-b0-k99FZlyE/AAAAAAAAAAI/AAAAAAAAAAA/eu7opA4byxI/photo.jpg?sz=120\\\"\\n                         alt=\\\"\\\">\\n                    <form class=\\\"form-signin\\\">\\n                        <input name=\\\"Ulogin\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Логин\\\" required autofocus>\\n                        <input name=\\\"Upassword\\\" type=\\\"password\\\" class=\\\"form-control\\\" placeholder=\\\"Пароль\\\" required>\\n                        <button class=\\\"btn btn-lg btn-primary btn-block\\\" type=\\\"submit\\\">\\n                            Войти</button>\\n                    </form>\\n                </div>\\n                <a href=\\\"#\\\" class=\\\"text-center new-account\\\">Подать заявку на регистрацию </a>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n<script>\\n    require([\\\"jquery\\\", \\\"safe\\\", \\\"api\\\", \\\"jquery-block\\\"], function ($, safe, api) {\\n        $(function () {\\n            var $form = $('.form-signin');\\n            $form.submit(function (e) {\\n                e.preventDefault();\\n                safe.run(function (cb) {\\n                    var user = {};\\n                    user.login = $form.find('input[name=\\\"Ulogin\\\"]').val();\\n                    user.password = $form.find('input[name=\\\"Upassword\\\"]').val();\\n                    $form.block();\\n                    api.call(\\\"core.authenticate\\\", user.login, user.password, cb);\\n                }, function (err) {\\n                    $form.unblock();\\n                    if (!err || (err.data && err.data.subject && err.data.subject == 'AlreadyLogged'))\\n                        window.location.href = '/index';\\n                    else\\n                        appError(err);\\n                });\\n                return false;\\n            });\\n        });\\n    });\\n</script>\";\n},\"useData\":true}","mt":1424660481000,"pt":[]},"hogan":{"v":4,"st":"layout"}}